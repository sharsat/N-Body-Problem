const space = 100;
const speed = 2;
const maxVel = 2;
const k = 1; // 100
const density = 0.005;
const N = 20;
const dt = 0.03; // 0.2
var methods = [];
/*

INCLUDE INTEGRAL OF MOTIONS!!!!!

*/

let c1_e;
let eul = function (euler) {
	euler.setup = function () {
		let canvas_e = euler.createCanvas(500, 500, euler.WEBGL);
		canvas_e.position(50, 120);
		euler.camera(80, -200, 450);
		createBodies_e(euler);
	};
	euler.draw = function () {
		back(euler);
		drawBodies_e(euler);

		if (euler.frameCount == 300) {
			console.log(trackBody0_e);
		}

		c1_e = euler.createVector(0, 0, 0);
		// for (let i of bodies_e) {
		// 	for (let j of bodies_e) {
		// 		let r = i.pos.copy().sub(j);
		// 		c1_e.add(r.copy().mult(i.mass));
		// 	}
		// }
		let r1 = bodies_e[0].pos.copy().sub(bodies_e[1].pos.copy());
		let r2 = bodies_e[1].pos.copy().sub(bodies_e[0].pos.copy());
		//console.log(r1.copy().add(r2).mag());
	};
};
new p5(eul);

let heu = function (heun) {
	heun.setup = function () {
		let canvas_h = heun.createCanvas(500, 500, heun.WEBGL);
		canvas_h.position(50, 1220);
		heun.camera(80, -200, 450);
		createBodies_h(heun);
	};
	heun.draw = function () {
		back(heun);
		drawBodies_h(heun);

		if (heun.frameCount == 500) {
			//console.log(trackBody0_h);
		}
	};
};
//new p5(heu);

let ada = function (adam) {
	adam.setup = function () {
		let canvas_a = adam.createCanvas(500, 500, adam.WEBGL);
		canvas_a.position(50, 1200);
		adam.camera(80, -200, 450);
		createBodies_a(adam);
	};
	adam.draw = function () {
		back(adam);
		drawBodies_a(adam);

		if (adam.frameCount == 800) {
			//console.log(trackBody0_a);
		}
	};
};
//new p5(ada);

let lea = function (leapfrog) {
	leapfrog.setup = function () {
		let canvas_l = leapfrog.createCanvas(500, 500, leapfrog.WEBGL);
		canvas_l.position(50, 1200);
		leapfrog.camera(80, -200, 450);
		createBodies_l(leapfrog);
	};
	leapfrog.draw = function () {
		back(leapfrog);
		drawBodies_l(leapfrog);

		if (leapfrog.frameCount == 800) {
			//console.log(trackBody0_l);
		}
	};
};
// new p5(lea);

let trackCoordinate = [];
let trackCoordinateE = [];
let trackCoordinateH = [];
let coordinate = function (coord) {
	coord.setup = function () {
		let canvas_c = coord.createCanvas(500, 500);
		canvas_c.position(50, 670);
	};

	coord.draw = function () {
		coord.background(0);
		coord.translate(coord.width / 2, coord.height / 2);
		//	trackCoordinate.push([...trackBody0_a.replaceAll(' ', ',')]);
		// console.log(trackCoordinate);
		for (let i of trackCoordinate) {
			coord.fill(255);
			coord.circle(i[0] * 2, i[1], 2);
		}

		for (let i of trackCoordinateE) {
			coord.fill(0, 255, 0);
			coord.circle(i[0] * 2, i[1], 2);
		}

		for (let i of trackCoordinateH) {
			coord.fill(255, 0, 0);
			coord.circle(i[0] * 2, i[1], 2);
		}

		for (let i = 0; i < realVal.length; i += 3) {
			coord.fill(255, 255, 0);
			coord.circle(realVal[i], realVal[i + 1], 2);
		}
		//console.log(trackCoordinate);
	};
};

//new p5(coordinate);

let realVal = [
	-99.95555094546778, -1.9997036220292301, 0.0, -99.82214841111536,
	-3.9976270133174823, 0.0, -99.59962591094788, -5.991980097733332, 0.0,
	-99.28770471654376, -7.980952963693394, 0.0, -98.88599195822033,
	-9.962705580678314, 0.0, -98.39397792365207, -11.935357065226077, 0.0,
	-97.81103250941852, -13.896974326295876, 0.0, -97.1364007660029,
	-15.84555990161442, 0.0, -96.36919745999069, -17.779038772171077, 0.0,
	-95.50840055805592, -19.69524391019315, 0.0, -94.55284351508367,
	-21.591900275052833, 0.0, -93.5012062226118, -23.46660691941876, 0.0,
	-92.35200444263072, -25.316816801611303, 0.0, -91.10357751432556,
	-27.139813815598888, 0.0, -89.75407407589621, -28.932686442069993, 0.0,
	-88.30143548797379, -30.69229728535007, 0.0, -86.74337657657026,
	-32.41524758181357, 0.0, -85.07736322829705, -34.09783553240469, 0.0,
	-83.3005862639856, -35.736007006222195, 0.0, -81.40993088252118,
	-37.32529675757522, 0.0, -79.40194079628189, -38.86075775814376, 0.0,
	-77.2727759618758, -40.33687551513025, 0.0, -75.01816252992045,
	-41.74746324710243, 0.0, -72.63333327530938, -43.08553240531817, 0.0,
	-70.11295629780675, -44.34313108452511, 0.0, -67.45104916594242,
	-45.5111400949579, 0.0, -64.6408748677726, -46.5790124466598, 0.0,
	-61.67481486988828, -47.53443605799497, 0.0, -58.54421319946979,
	-48.36289054693068, 0.0, -55.239183681825274, -49.047055160177855, 0.0,
	-51.748370256511876, -49.566003075321404, 0.0, -48.058647784050365,
	-49.89408184061697, 0.0, -44.15474854664592, -49.99932021330196, 0.0,
	-40.018799714441286, -49.84109821890239, 0.0, -35.62976525388639,
	-49.3666300138232, 0.0, -30.962819247464246, -48.50545416197029, 0.0,
	-25.98878792622853, -47.16041646773408, 0.0, -20.674148736479168,
	-45.19212502178084, 0.0, -14.983231858998892, -42.390446234099734, 0.0,
	-8.888409459499147, -38.418386023894456, 0.0, -2.4107737939917717,
	-32.693548761734476, 0.0, 4.208743341810295, -24.137575018437516, 0.0,
	9.76231580565965, -10.950707099638166, 0.0, 10.638325459428867,
	6.509197521256084, -0.0, 5.891497985441463, 21.15885745386835, -0.0,
	-0.6393615527721552, 30.752283125184604, 0.0, -7.196325896055322,
	37.09700673006071, 0.0, -13.399256526920045, 41.4646718159463, 0.0,
	-19.19593867858831, 44.53802302346992, 0.0, -24.60739243595228,
	46.70393995977241, 0.0, -29.66874771162574, 48.19916821593938, 0.0,
	-34.41448144689826, 49.17838826392099, 0.0, -38.874971572169194,
	49.74811139389354, 0.0, -43.07615750974519, 49.984832805563144, 0.0,
	-47.0400227977657, 49.945400270090204, 0.0, -50.78522481971967,
	49.673267945931826, 0.0, -54.32767629792809, 49.20244505901644, 0.0,
	-57.681033356316014, 48.56008750323949, 0.0, -60.857091420768604,
	47.76825583561478, 0.0, -63.86610270189619, 46.845142163621546, 0.0,
	-66.7170304006413, 45.80594776890106, 0.0, -69.41775288825637,
	44.66352461405046, 0.0, -71.97522858939685, 43.42885329748955, 0.0,
	-74.39562998373303, 42.11140525654312, 0.0, -76.68445324499757,
	40.71942146393545, 0.0, -78.84660855073459, 39.260129837930236, 0.0,
	-80.8864949547228, 37.739916974353775, 0.0, -82.80806284371326,
	36.16446535600076, 0.0, -84.61486633708651, 34.538864139160495, 0.0,
	-86.31010748166238, 32.86769948365472, 0.0, -87.8966737054372,
	31.155128879890697, 0.0, -89.37716969434094, 29.404942838067598, 0.0,
	-90.75394462347097, 27.6206165113432, 0.0, -92.02911549246913,
	25.805353239464438, 0.0, -93.20458717168852, 23.962121562733557, 0.0,
	-94.28206965249746, 22.093686927118426, 0.0, -95.2630929046906,
	20.202639051021947, 0.0, -96.14901967135967, 18.29141573223501, 0.0,
	-96.9410564728144, 16.362323725243584, 0.0, -97.64026304321695,
	14.417557203675528, 0.0, -98.24756038419248, 12.459214232485408, 0.0,
	-98.76373758699629, 10.489311603711315, 0.0, -99.18945754743757,
	8.50979833403946, 0.0, -99.52526167456539, 6.52256807877302, 0.0,
	-99.77157367421425, 4.529470682740282, 0.0, -99.92870247115755,
	2.532323062397296, 0.0, -99.99684431822841, 0.5329195935567554, 0.0,
	-99.97608412683287, -1.466957835167591, 0.0, -99.86639604036279,
	-3.46552995265435, 0.0, -99.6676432597282, -5.461010273950478, 0.0,
	-99.37957711820692, -7.451595163054122, 0.0, -99.00183539070757,
	-9.43545364254689, 0.0, -98.53393981000545, -11.410716795633505, 0.0,
	-97.97529274917083, -13.37546659443558, 0.0, -97.32517301485116,
	-15.327723971581918, 0.0, -96.58273067983454, -17.265435929439775, 0.0,
	-95.7469808648569, -19.186461451610256, 0.0, -94.81679635827365,
	-21.08855594302679, 0.0, -93.79089893718967, -22.969353876117026, 0.0,
	-92.66784922394055, -24.826349258258432, 0.0, -91.44603487619504,
	-26.65687345653336, 0.0, -90.12365686581843, -28.458069814659268, 0.0,
	-88.69871354897276, -30.22686436730467, 0.0, -87.16898216512274,
	-31.959931789805353, 0.0, -85.53199732225465, -33.65365550420418, 0.0,
	-83.78502592526496, -35.30408057842956, 0.0, -81.92503787825913,
	-36.906857680352005, 0.0, -79.94867173166462, -38.45717584843294, 0.0,
	-77.85219424124585, -39.949681167020515, 0.0, -75.6314525444729,
	-41.37837751619429, 0.0, -73.28181732165623, -42.736504298876866, 0.0,
	-70.79811486988285, -44.01638427491491, 0.0, -68.1745454437393,
	-45.20923211376453, 0.0, -65.40458446404988, -46.304910642289485, 0.0,
	-62.480862207637536, -47.29161642151789, 0.0, -59.39501629835151,
	-48.155468277292755, 0.0, -56.137509648588036, -48.87996013875869, 0.0,
	-52.69740440253388, -49.44522027520398, 0.0, -49.06207997160512,
	-49.826987949624424, 0.0, -45.21688085249418, -49.99516683656901, 0.0,
	-41.14467904034742, -49.91172561738492, 0.0, -36.825340895116476,
	-49.52755699097963, 0.0, -32.23511215478595, -48.777608449809975, 0.0,
	-27.34601569734405, -47.573011517540806, 0.0, -22.1256142002333,
	-45.787711794643826, 0.0, -16.538326626853905, -43.234377022967635, 0.0,
	-10.552404782017444, -39.61788755715759, 0.0, -4.168044232701263,
	-34.43874830255342, 0.0, 2.4669992782954564, -26.78518849582821, 0.0,
	8.546172613549263, -15.017175103480213, 0.0, 11.074957081735093,
	1.803553126922509, -0.0, 7.468457616710933, 17.80704876353741, -0.0,
	1.136294465079546, 28.585677441230303, -0.0, -5.477758607451033,
	35.63837664447783, 0.0, -11.786131202748706, 40.448510562539866, 0.0,
	-17.690322174346583, 43.82026611809772, 0.0, -23.20114894734703,
	46.20027208905407, 0.0, -28.352290590146445, 47.8564989662529, 0.0,
	-33.17896953128417, 48.961231099049826, 0.0, -37.712754038881776,
	49.63158589920101, 0.0, -41.980734391404425, 49.95080987879368, 0.0,
	-46.005887228168596, 49.980247459479926, 0.0, -49.80769596108797,
	49.76646242066107, 0.0, -53.40275294338917, 49.345683237326455, 0.0,
	-56.8052733111575, 48.74669247117737, 0.0, -60.0275143126301,
	47.99277056100664, 0.0, -63.08011217039895, 47.103042678900636, 0.0,
	-65.97235175201851, 46.09343616649517, 0.0, -68.71238292772972,
	44.977376546825155, 0.0, -71.30739501379215, 43.76630357060225, 0.0,
	-73.76375829528405, 42.47006059103194, 0.0, -76.08713961043748,
	41.09719300064114, 0.0, -78.28259738888762, 39.6551802202419, 0.0,
	-80.35466031052974, 38.15061835836258, 0.0, -82.30739281587307,
	36.58936572153499, 0.0, -84.14444998600827, 34.976659983478214, 0.0,
	-85.86912376641108, 33.317213477247776, 0.0, -87.48438209214562,
	31.615291418843924, 0.0, -88.99290215107033, 29.874776684159144, 0.0,
	-90.39709877294453, 28.099223899139304, 0.0, -91.69914873831199,
	26.291904969026064, 0.0, -92.90101164868759, 24.45584770095553, 0.0,
	-94.00444787909832, 22.593868819687486, 0.0, -95.01103403810359,
	20.70860240725625, 0.0, -95.92217628350556, 18.802524591437873, 0.0,
	-96.73912177982366, 16.877975149132794, 0.0, -97.46296853305168,
	14.937176567453378, 0.0, -98.09467379673553, 12.982251009039828, 0.0,
	-98.63506120908893, 11.01523555266158, 0.0, -99.08482679219352,
	9.038096020863577, 0.0, -99.44454392011336, 7.0527396598687915, 0.0,
	-99.71466734204967, 5.061026900513298, 0.0, -99.89553632869163,
	3.0647824008024145, 0.0, -99.98737699406242, 1.0658055492236258, 0.0,
	-99.99030383088147, -0.9341194077604769, 0.0, -99.90432048431597,
	-2.9332134613914604, 0.0, -99.72931977657473, -4.929693013135704, 0.0,
	-99.46508298273893, -6.921759979879141, 0.0, -99.11127834617874,
	-8.907591685733962, 0.0, -98.667458809518, -10.885330388356294, 0.0,
	-98.13305892402282, -12.853072277210458, 0.0, -97.50739088609791,
	-14.80885576584069, 0.0, -96.78963963383715, -16.750648879173013, 0.0,
	-95.97885691876475, -18.676335509155876, 0.0, -95.07395424739528,
	-20.58370027622459, 0.0, -94.07369456329077, -22.470411688244724, 0.0,
	-92.976682511941, -24.33400323024273, 0.0, -91.78135309689284,
	-26.17185194395114, 0.0, -90.48595849459747, -27.9811539614675, 0.0,
	-89.08855274555371, -29.758896336037935, 0.0, -87.58697397804609,
	-31.501824356825296, 0.0, -85.9788237449483, -33.20640333216954, 0.0,
	-84.26144295954316, -34.8687735616179, 0.0, -82.43188379765827,
	-36.484696868996764, 0.0, -80.48687678342836, -38.049492606113745, 0.0,
	-78.42279208508769, -39.557960415135085, 0.0, -76.2355938025606,
	-41.00428619323657, 0.0, -73.92078571308458, -42.38192654169785, 0.0,
	-71.4733465315848, -43.683465362659206, 0.0, -68.88765220819309,
	-44.9004339769312, 0.0, -66.15738208514126, -46.023082845449096, 0.0,
	-63.27540481609344, -47.04008816424482, 0.0, -60.233638746636,
	-47.93816942753426, 0.0, -57.02287989110839, -48.70158312609993, 0.0,
	-53.63258865766276, -49.31144070895567, 0.0, -50.050624089828545,
	-49.74477165818314, 0.0, -46.2629118960504, -49.97320754827763, 0.0,
	-42.25303100133211, -49.961086284910664, 0.0, -38.00170607659874,
	-49.66263997294158, 0.0, -33.48621014731427, -49.01767897281832, 0.0,
	-28.679740480357275, -47.944697602852784, 0.0, -23.551020215872498,
	-46.329326645700235, 0.0, -18.064986406737184, -44.00387024848891, 0.0,
	-12.187497312202666, -40.70855417456255, 0.0, -5.904802128081421,
	-36.01254969871911, 0.0, 0.6978004350846279, -29.14384942078999, 0.0,
	7.09184922874877, -18.67213035217486, 0.0, 11.012221874436845,
	-2.9819641589006665, 0.0, 8.872600156096567, 14.050164824719332, -0.0,
	2.9009947375900014, 26.159350236862394, -0.0, -3.7354823276351867,
	34.024287306738415, 0.0, -10.143852683892728, 39.332050772233345, 0.0,
	-16.15668379854678, 43.03301179430429, 0.0, -21.769367258868755,
	45.645712925189855, 0.0, -27.012818399531525, 47.47496303188194, 0.0,
	-31.922686707371117, 48.71341214050784, 0.0, -36.53168653174899,
	49.49024643699198, 0.0, -40.868089126401344, 49.89629087354791, 0.0,
	-44.95590953170022, 49.99788102316194, 0.0, -48.81550024644117,
	49.84500010685548, 0.0, -52.46416974555266, 49.47629780952451, 0.0,
	-55.91672187549557, 48.92231953762473, 0.0, -59.185899538201106,
	48.207660142265695, 0.0, -62.28274203863946, 47.35244515906402, 0.0,
	-65.21687121035836, 46.37337697285318, 0.0, -67.99672075933891,
	45.28449102190916, 0.0, -70.62972090382573, 44.09771366368193, 0.0,
	-73.12244791168361, 42.82328122502713, 0.0, -75.48074601088335,
	41.47005989762306, 0.0, -77.70982745051205, 40.045793508211204, 0.0,
	-79.81435517424684, 38.557297961894506, 0.0, -81.79851156219968,
	37.01061567317436, 0.0, -83.66605593067366, 35.41113957306186, 0.0,
	-85.42037289503531, 33.76371370222455, 0.0, -87.06451325378937,
	32.07271558655793, 0.0, -88.6012287080817, 30.342124296604993, 0.0,
	-90.03300146481654, 28.57557715477037, 0.0, -91.36206956442469,
	26.77641736700059, 0.0, -92.59044861193159, 24.947734345837603, 0.0,
	-93.71995046181613, 23.092398109613782, 0.0, -94.7521993052853,
	21.213088853296313, 0.0, -95.68864552707059, 19.312322565573027, 0.0,
	-96.53057763313015, 17.392473396699756, 0.0, -97.2791324972662,
	15.455793349822784, 0.0, -97.93530413098026, 13.504429765681493, 0.0,
	-98.49995114481702, 11.540440990120032, 0.0, -98.97380303940649,
	9.565810550593483, 0.0, -99.35746543910811, 7.582460118200288, 0.0,
	-99.65142435960152, 5.592261492851549, 0.0, -99.85604958214003,
	3.5970478189659616, 0.0, -99.9715971908149, 1.5986242159452786, 0.0,
	-99.99821131452894, -0.4012220094705299, 0.0, -99.93592510196878,
	-2.4007114139017176, 0.0, -99.78466094528797, -4.3980625834801685, 0.0,
	-99.54422995609396, -6.391482271106952, 0.0, -99.21433068531499,
	-8.37915535965908, 0.0, -98.79454706626366, -10.359234501069636, 0.0,
	-98.28434554735128, -12.329829271959397, 0.0, -97.68307136704784,
	-14.288994672496642, 0.0, -96.98994390841013, -16.234718775720467, 0.0,
	-96.20405105329213, -18.164909308742494, 0.0, -95.32434243663741,
	-20.0773789137495, 0.0, -94.3496214782971, -21.96982879378129, 0.0,
	-93.27853604274577, -23.839830393538023, 0.0, -92.1095675447761,
	-25.68480469582107, 0.0, -90.84101828034049, -27.50199862546549, 0.0,
	-89.47099671441043, -29.288457939106593, 0.0, -87.99740039976496,
	-31.04099583323091, 0.0, -86.41789612900743, -32.75615631425262, 0.0,
	-84.72989683306696, -34.43017112844018, 0.0, -82.93053462781921,
	-36.05890872643943, 0.0, -81.0166292696645, -37.63781330868028, 0.0,
	-78.98465110198273, -39.161831424030424, 0.0, -76.83067734556023,
	-40.62532281674203, 0.0, -74.55034029139797, -42.02195115120719, 0.0,
	-72.13876557251537, -43.34454876425377, 0.0, -69.59049819382652,
	-44.584947510060715, 0.0, -66.89941334785956, -45.73376478000489, 0.0,
	-64.05860818923604, -46.78012943846932, 0.0, -61.06026961955923,
	-47.71132597756559, 0.0, -57.89551167367688, -48.51232544642312, 0.0,
	-54.55417423018323, -49.165156610795634, 0.0, -51.02457248042968,
	-49.648046801201986, 0.0, -47.29318406605646, -49.93422266222126, 0.0,
	-43.344258813033306, -49.99019473033604, 0.0, -39.15933701600947,
	-49.773233649930944, 0.0, -34.716673526023555, -49.22753379051778, 0.0,
	-29.990607787531342, -48.27815397025006, 0.0, -24.95105912368659,
	-46.82100407163989, 0.0, -19.56377048757111, -44.70538190638706, 0.0,
];
